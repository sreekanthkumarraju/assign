{"ast":null,"code":"import _defineProperty from\"C:/Users/sreepriya/Desktop/Fullstackdeveloper/student-teacher-management-formik/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/sreepriya/Desktop/Fullstackdeveloper/student-teacher-management-formik/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/sreepriya/Desktop/Fullstackdeveloper/student-teacher-management-formik/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import'./EditTeacher.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditTeacher(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),teachers=_useState2[0],setTeacher=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var navigate=useNavigate();var getStudentDetails=function getStudentDetails(){axios.get(\"https://629ef6b78b939d3dc28b227c.mockapi.io/teachers/\".concat(id)).then(function(res){setTeacher(res.data);}).catch(function(err){console.log(err);});};var handleChange=function handleChange(e){var name=e.target.name;var value=e.target.value;setTeacher(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});};var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(teachers);setCount(count+1);setErrors(validate(teachers));console.log(count);};var updateStudentDetails=function updateStudentDetails(){if(Object.keys(errors).length===0){axios.put(\"https://629ef6b78b939d3dc28b227c.mockapi.io/teachers/\".concat(id),teachers).then(function(res){console.log(res);setTimeout(function(){navigate('/teacher');},[2000]);}).catch(function(err){console.log(err);});}};var validate=function validate(values){var errors={};if(!values.firstName){errors.firstName=\"First Name is required\";}else if(values.firstName.length>20){errors.firstName='Must be 20 characters or less';}if(!values.lastName){errors.lastName='Last Name is Required';}else if(values.lastName.length>25){errors.lastName='Must be 25 characters or less';}if(!values.email){errors.email=\"Email is Required\";}else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)){errors.email='Invalid email address';}if(!values.date_of_join){errors.date_of_join=\"Date of Join is required\";}if(!values.salary){errors.salary=\"Salary is required\";}return errors;};useEffect(function(){getStudentDetails();},[]);useEffect(function(){if(count>0){updateStudentDetails();console.log(count);}},[count]);return/*#__PURE__*/_jsx(\"div\",{children:teachers?/*#__PURE__*/_jsxs(\"form\",{className:\"edit-teacher-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-2\",children:\"Update Teacher\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",name:\"firstName\",className:\"edit-teacher-fname\",placeholder:\"First Name\",value:teachers.firstName,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-5\",children:errors.firstName}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lastName\",name:\"lastName\",className:\"edit-teacher-lname\",placeholder:\"Last Name\",value:teachers.lastName,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-5\",children:errors.lastName}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"mail\",name:\"email\",className:\"edit-teacher-email\",placeholder:\"Email\",value:teachers.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-5\",children:errors.email}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"date_of_join\",className:\"edit-teacher-doj\",name:\"date_of_join\",value:teachers.date_of_join,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-5\",children:errors.date_of_join}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"salary\",className:\"edit-teacher-salary\",name:\"salary\",value:teachers.salary,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-5\",children:errors.salary}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"edit-teacher-button bg-danger\",children:\"Update\"})]}):' '});}","map":{"version":3,"names":["axios","React","useEffect","useState","useParams","useNavigate","EditTeacher","id","teachers","setTeacher","count","setCount","errors","setErrors","navigate","getStudentDetails","get","then","res","data","catch","err","console","log","handleChange","e","name","target","value","prevState","handleSubmit","event","preventDefault","validate","updateStudentDetails","Object","keys","length","put","setTimeout","values","firstName","lastName","email","test","date_of_join","salary"],"sources":["C:/Users/sreepriya/Desktop/Fullstackdeveloper/student-teacher-management-formik/src/components/Teacher Managenent/EditTeacher.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams ,useNavigate} from \"react-router-dom\";\r\nimport './EditTeacher.css'\r\n\r\nexport default function EditTeacher(){\r\n\r\n     const {id} =useParams()\r\n     const [teachers,setTeacher]=useState('')\r\n     const [count,setCount]=useState(0)\r\n     const [errors ,setErrors]=useState('')\r\n\r\n     const navigate=useNavigate()\r\n\r\n     const getStudentDetails=()=>{\r\n         axios.get(`https://629ef6b78b939d3dc28b227c.mockapi.io/teachers/${id}`)\r\n         .then((res)=>{\r\n             setTeacher(res.data)\r\n         })\r\n         .catch((err)=>{\r\n             console.log(err)\r\n         })\r\n     }\r\n\r\n     const handleChange=(e)=>{\r\n\r\n          let name=e.target.name\r\n          let value=e.target.value\r\n\r\n          setTeacher((prevState)=>({\r\n              ...prevState,\r\n             [name]:value\r\n\r\n          }))\r\n    }\r\n\r\n    const handleSubmit=(event)=>\r\n    {\r\n        event.preventDefault()\r\n        console.log(teachers)\r\n        setCount(count+1)\r\n        setErrors(validate(teachers))\r\n        console.log(count)\r\n       \r\n    }\r\n\r\n     const updateStudentDetails=()=>{\r\n\r\n        if(Object.keys(errors).length===0)\r\n        {\r\n             axios.put(`https://629ef6b78b939d3dc28b227c.mockapi.io/teachers/${id}`,teachers)\r\n             \r\n             .then((res)=>{\r\n                 console.log(res)\r\n                 setTimeout(()=>{\r\n                   navigate('/teacher')\r\n                 },[2000])\r\n\r\n             })\r\n             .catch((err)=>{\r\n                 console.log(err)\r\n             })\r\n     \r\n        }\r\n            }  \r\n\r\n            const validate=values =>{\r\n                const errors={};\r\n                 \r\n                 if(!values.firstName)\r\n                   {\r\n                       errors.firstName=\"First Name is required\"\r\n                   }\r\n                else if(values.firstName.length>20)\r\n                   {\r\n                      errors.firstName='Must be 20 characters or less'\r\n                   }\r\n            \r\n                   if(!values.lastName)\r\n                    {\r\n                        errors.lastName='Last Name is Required'\r\n                    }\r\n                    else if(values.lastName.length>25)\r\n                     {\r\n                         errors.lastName='Must be 25 characters or less'\r\n                     }\r\n            \r\n            \r\n                     if(!values.email){\r\n                         errors.email=\"Email is Required\"\r\n                     }\r\n                     else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email))\r\n                     {\r\n                         errors.email='Invalid email address'\r\n                     }\r\n            \r\n                     if(!values.date_of_join){\r\n                        errors.date_of_join=\"Date of Join is required\"\r\n                    }\r\n            \r\n                    if(!values.salary){\r\n                        errors.salary=\"Salary is required\"\r\n                    }\r\n            \r\n                     return errors;\r\n            }\r\n\r\n\r\n\r\n     useEffect(()=>{\r\n        getStudentDetails()   \r\n        \r\n     },[])\r\n\r\n     useEffect(()=>{\r\n         if(count>0)\r\n         {\r\n        updateStudentDetails()\r\n        console.log(count)\r\n         }       \r\n     },[(count)])\r\n\r\n   \r\n\r\n    return(\r\n\r\n        <div>\r\n            {\r\n            (teachers) ?\r\n            \r\n            <form  className='edit-teacher-form' onSubmit={handleSubmit}>\r\n                <p className=\"text-danger fs-2\">Update Teacher</p>\r\n                <input type='text' id='firstName'  name='firstName'className=\"edit-teacher-fname\" placeholder=\"First Name\" value={teachers.firstName} onChange={handleChange}/>\r\n                <p className=\"text-danger fs-5\">{errors.firstName}</p>\r\n                \r\n                <input type='text' id='lastName' name='lastName' className=\"edit-teacher-lname\" placeholder=\"Last Name\" value={teachers.lastName} onChange={handleChange}/>\r\n                <p className=\"text-danger fs-5\">{errors.lastName}</p>\r\n                \r\n                <input type='email' id='mail' name='email' className=\"edit-teacher-email\" placeholder=\"Email\" value={teachers.email} onChange={handleChange}/>\r\n                <p className=\"text-danger fs-5\">{errors.email}</p>\r\n                \r\n                <input type='date' id='date_of_join' className=\"edit-teacher-doj\" name='date_of_join' value={teachers.date_of_join} onChange={handleChange}></input>\r\n                <p className=\"text-danger fs-5\">{errors.date_of_join}</p>\r\n                \r\n                \r\n                <input type='number' id='salary' className=\"edit-teacher-salary\" name='salary' value={teachers.salary} onChange={handleChange}></input>\r\n                <p className=\"text-danger fs-5\">{errors.salary}</p>\r\n                \r\n                <button type='submit' className=\"edit-teacher-button bg-danger\">Update</button>\r\n            </form>\r\n           \r\n           :' '\r\n           }\r\n        </div>\r\n\r\n    )\r\n\r\n        }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}