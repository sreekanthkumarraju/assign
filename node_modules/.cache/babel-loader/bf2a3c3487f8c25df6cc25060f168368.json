{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sreepriya\\\\Desktop\\\\Fullstackdeveloper\\\\student-teacher-management-formik\\\\src\\\\components\\\\Teacher Managenent\\\\EditTeacher.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport './EditTeacher.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditTeacher() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [teachers, setTeacher] = useState('');\n  const [count, setCount] = useState(0);\n  const [errors, setErrors] = useState('');\n  const navigate = useNavigate();\n\n  const getStudentDetails = () => {\n    axios.get(`https://629ef6b78b939d3dc28b227c.mockapi.io/teachers/${id}`).then(res => {\n      setTeacher(() => setTeacher(res.data));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handleChange = e => {\n    let name = e.target.name;\n    let value = e.target.value;\n    setTeacher(prevState => ({ ...prevState,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(teachers);\n    setCount(count + 1);\n    setErrors(validate(teachers));\n    console.log(count);\n  };\n\n  const updateStudentDetails = () => {\n    if (Object.keys(errors).length === 0) {\n      axios.put(`https://629ef6b78b939d3dc28b227c.mockapi.io/teachers/${id}`, teachers).then(res => {\n        console.log(res);\n        setTimeout(() => {\n          navigate('/teacher');\n        }, [2000]);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n\n  const validate = values => {\n    const errors = {};\n\n    if (!values.firstName) {\n      errors.firstName = \"First Name is required\";\n    } else if (values.firstName.length > 20) {\n      errors.firstName = 'Must be 20 characters or less';\n    }\n\n    if (!values.lastName) {\n      errors.lastName = 'Last Name is Required';\n    } else if (values.lastName.length > 25) {\n      errors.lastName = 'Must be 25 characters or less';\n    }\n\n    if (!values.email) {\n      errors.email = \"Email is Required\";\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n      errors.email = 'Invalid email address';\n    }\n\n    if (!values.date_of_join) {\n      errors.date_of_join = \"Date of Join is required\";\n    }\n\n    if (!values.salary) {\n      errors.salary = \"Salary is required\";\n    }\n\n    return errors;\n  };\n\n  useEffect(() => {\n    getStudentDetails();\n  }, []);\n  useEffect(() => {\n    if (count > 0) {\n      updateStudentDetails();\n      console.log(count);\n    }\n  }, [count]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: teachers ? /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"edit-teacher-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger fs-2\",\n        children: \"Update Teacher\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"firstName\",\n        name: \"firstName\",\n        className: \"edit-teacher-fname\",\n        placeholder: \"First Name\",\n        value: teachers.firstName,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: errors.firstName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"lastName\",\n        name: \"lastName\",\n        className: \"edit-teacher-lname\",\n        placeholder: \"Last Name\",\n        value: teachers.lastName,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: errors.lastName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"mail\",\n        name: \"email\",\n        className: \"edit-teacher-email\",\n        placeholder: \"Email\",\n        value: teachers.email,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: errors.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        id: \"date_of_join\",\n        className: \"edit-teacher-doj\",\n        name: \"date_of_join\",\n        value: teachers.date_of_join,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: errors.date_of_join\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"salary\",\n        className: \"edit-teacher-salary\",\n        name: \"salary\",\n        value: teachers.salary,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: errors.salary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"edit-teacher-button bg-danger\",\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this) : ' '\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EditTeacher, \"WYzMRwWuxFPZ3UTUHG/QIEhjgaA=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = EditTeacher;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditTeacher\");","map":{"version":3,"names":["axios","React","useEffect","useState","useParams","useNavigate","EditTeacher","id","teachers","setTeacher","count","setCount","errors","setErrors","navigate","getStudentDetails","get","then","res","data","catch","err","console","log","handleChange","e","name","target","value","prevState","handleSubmit","event","preventDefault","validate","updateStudentDetails","Object","keys","length","put","setTimeout","values","firstName","lastName","email","test","date_of_join","salary"],"sources":["C:/Users/sreepriya/Desktop/Fullstackdeveloper/student-teacher-management-formik/src/components/Teacher Managenent/EditTeacher.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams ,useNavigate} from \"react-router-dom\";\r\nimport './EditTeacher.css'\r\n\r\nexport default function EditTeacher(){\r\n\r\n     const {id} =useParams()\r\n     const [teachers,setTeacher]=useState('')\r\n     const [count,setCount]=useState(0)\r\n     const [errors ,setErrors]=useState('')\r\n\r\n     const navigate=useNavigate()\r\n\r\n     const getStudentDetails=()=>{\r\n         axios.get(`https://629ef6b78b939d3dc28b227c.mockapi.io/teachers/${id}`)\r\n         .then((res)=>{\r\n             setTeacher(()=>setTeacher(res.data))\r\n         })\r\n         .catch((err)=>{\r\n             console.log(err)\r\n         })\r\n     }\r\n\r\n     const handleChange=(e)=>{\r\n\r\n          let name=e.target.name\r\n          let value=e.target.value\r\n\r\n          setTeacher((prevState)=>({\r\n              ...prevState,\r\n             [name]:value\r\n\r\n          }))\r\n    }\r\n\r\n    const handleSubmit=(event)=>\r\n    {\r\n        event.preventDefault()\r\n        console.log(teachers)\r\n        setCount(count+1)\r\n        setErrors(validate(teachers))\r\n        console.log(count)\r\n       \r\n    }\r\n\r\n     const updateStudentDetails=()=>{\r\n\r\n        if(Object.keys(errors).length===0)\r\n        {\r\n             axios.put(`https://629ef6b78b939d3dc28b227c.mockapi.io/teachers/${id}`,teachers)\r\n             \r\n             .then((res)=>{\r\n                 console.log(res)\r\n                 setTimeout(()=>{\r\n                   navigate('/teacher')\r\n                 },[2000])\r\n\r\n             })\r\n             .catch((err)=>{\r\n                 console.log(err)\r\n             })\r\n     \r\n        }\r\n            }  \r\n\r\n            const validate=values =>{\r\n                const errors={};\r\n                 \r\n                 if(!values.firstName)\r\n                   {\r\n                       errors.firstName=\"First Name is required\"\r\n                   }\r\n                else if(values.firstName.length>20)\r\n                   {\r\n                      errors.firstName='Must be 20 characters or less'\r\n                   }\r\n            \r\n                   if(!values.lastName)\r\n                    {\r\n                        errors.lastName='Last Name is Required'\r\n                    }\r\n                    else if(values.lastName.length>25)\r\n                     {\r\n                         errors.lastName='Must be 25 characters or less'\r\n                     }\r\n            \r\n            \r\n                     if(!values.email){\r\n                         errors.email=\"Email is Required\"\r\n                     }\r\n                     else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email))\r\n                     {\r\n                         errors.email='Invalid email address'\r\n                     }\r\n            \r\n                     if(!values.date_of_join){\r\n                        errors.date_of_join=\"Date of Join is required\"\r\n                    }\r\n            \r\n                    if(!values.salary){\r\n                        errors.salary=\"Salary is required\"\r\n                    }\r\n            \r\n                     return errors;\r\n            }\r\n\r\n\r\n\r\n     useEffect(()=>{\r\n        getStudentDetails()   \r\n        \r\n     },[])\r\n\r\n     useEffect(()=>{\r\n         if(count>0)\r\n         {\r\n        updateStudentDetails()\r\n        console.log(count)\r\n         }       \r\n     },[(count)])\r\n\r\n   \r\n\r\n    return(\r\n\r\n        <div>\r\n            {\r\n            (teachers) ?\r\n            \r\n            <form  className='edit-teacher-form' onSubmit={handleSubmit}>\r\n                <p className=\"text-danger fs-2\">Update Teacher</p>\r\n                <input type='text' id='firstName'  name='firstName'className=\"edit-teacher-fname\" placeholder=\"First Name\" value={teachers.firstName} onChange={handleChange}/>\r\n                <p>{errors.firstName}</p>\r\n                \r\n                <input type='text' id='lastName' name='lastName' className=\"edit-teacher-lname\" placeholder=\"Last Name\" value={teachers.lastName} onChange={handleChange}/>\r\n                <p>{errors.lastName}</p>\r\n                \r\n                <input type='email' id='mail' name='email' className=\"edit-teacher-email\" placeholder=\"Email\" value={teachers.email} onChange={handleChange}/>\r\n                <p>{errors.email}</p>\r\n                \r\n                <input type='date' id='date_of_join' className=\"edit-teacher-doj\" name='date_of_join' value={teachers.date_of_join} onChange={handleChange}></input>\r\n                <p>{errors.date_of_join}</p>\r\n                \r\n                \r\n                <input type='number' id='salary' className=\"edit-teacher-salary\" name='salary' value={teachers.salary} onChange={handleChange}></input>\r\n                <p>{errors.salary}</p>\r\n                \r\n                <button type='submit' className=\"edit-teacher-button bg-danger\">Update</button>\r\n            </form>\r\n           \r\n           :' '\r\n           }\r\n        </div>\r\n\r\n    )\r\n\r\n        }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}